# Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."


## Задача 1
### Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

- Полная (аппаратная) виртуализация: на сервер устанавливается усечённая и кастомизированная по модулям ядра, драйверам и функционалу ОС, заточенная под функции гипревизора.

- Паравиртуализация: на сервер устанавливается полнофункциональная ОС и гипервизор работает через её системные вызовы. 

- Виртуализация на основе ОС - изоляция разных пользовательских процессов в одном экземпляре ОС.






## Задача 2
### Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов: физические сервера, паравиртуализация, виртуализация уровня ОС.

Условия использования:

1. Высоконагруженная база данных, чувствительная к отказу. - **Физические сервера**

Все виды виртуализации тут будут только потреблять дополнительные ресурсы. Отказоустойчивость и распределение нагрузки надо делать на уровне БД - репликация, шардирование и т.д. 

2. Различные web-приложения. - **Паравиртуализация, виртуализация уровня ОС**.

Современные веб-приложения уже не являются монолитными, а состоят из специализированных подсистем, выполняющих одну конкретную задачу. Эти подсистемы удобно размещать (и масштабировать) в виртуалках или контейнерах.

3. Windows системы для использования бухгалтерским отделом. - **Физические сервера**.

Бухгалтерия - это высоконагруженная БД. 

4. Системы, выполняющие высокопроизводительные расчеты на GPU - **физические сервера, паравиртуализация**.

Если можно пробросить GPU в виртуалки, то - паравиртуализация. Нет - физический сервер.



## Задача 3
### Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.

_KVM, QEMU - Proxmox. (Опыта с виртуализацией Windows нет, но, думаю, будет работать)_

2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.

_Xen - за счёт резервирования ресурсов за гипервизором, всё будет работать стабильно. (Опыта с виртуализацией Windows нет)_

3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.

_ESXi или XEN_ 

4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

_Vagrant (VirtulaBox) - наборы готовых образов дистрибутивов, быстрое равёртывание на машине разработчика или тестировщика. Могут даже в GUI мышкой поработать, если требуется._


## Задача 4

### Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

Проблемы и недостатки:
1. Дополнительные расходы на администрирование сред.
2. Неполное использование вычислительных ресурсов. При резком росте нагрузки на одну систему нельзя мигрировать виртуалки во вторую - часть железа простаивает, другая перегружена и требуются расходы на расширение.
3. Вполне возможно, что разные среды потребуют разных сценариев развёртывания приложений.

Что необходимо сделать для минимизации рисков и проблем:
1. Проанализировать, а возможно ли построить гомогенную среду и сколько это будет стоить для бизнеса. Будет в результате лучше или нет. Дадут ли добро (финансы).
2. Если гомогенная среда невозможна, то искать и устранять узкие места.

Создавал бы гетерогенную среду?

Гомогенная среда ни разу не получалась - либо оборудование не поддерживается,
либо стек технологий не позволяет.

Если делается проект с нуля, то попробовал бы.

